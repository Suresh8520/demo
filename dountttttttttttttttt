stages:
  - stage: Download
    jobs:
      - job: DownloadJob
        steps:
          - powershell: |
              $repoUrl = 'https://github.source.internal.cba/ss99/powershell/archive/refs/heads/main.zip'
              $outputPath = 'C:\path\to\download\destination\main.zip'
              Invoke-WebRequest -Uri $repoUrl -OutFile $outputPath
            displayName: 'Download Git Repo'


$fileFullPath = "C:\path\to\your\file.ext"
$attributes = (Get-Item $fileFullPath).Attributes
if ($attributes -band [System.IO.FileAttributes]::ReadOnly) {
    $attributes = $attributes -bxor [System.IO.FileAttributes]::ReadOnly
    Set-ItemProperty -Path $fileFullPath -Name Attributes -Value $attributes
    Write-Host "Read-only attribute removed from $fileFullPath"
} else {
    Write-Host "$fileFullPath is not marked as read-only."
}

